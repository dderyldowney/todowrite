# PostgreSQL configuration optimized for performance testing
# These settings are tuned for development/testing workloads

# Memory Settings (optimized for testing, not production)
shared_buffers = 128MB
effective_cache_size = 512MB
work_mem = 4MB
maintenance_work_mem = 64MB

# Connection Settings
max_connections = 100
listen_addresses = '*'
port = 5432

# WAL Settings for Testing
wal_level = minimal
fsync = off
synchronous_commit = off
full_page_writes = off
wal_compression = off

# Query Planning
random_page_cost = 1.1  # Favor index scans
effective_io_concurrency = 200

# Logging Settings (minimal for performance testing)
log_min_messages = warning
log_min_error_statement = error
log_min_duration_statement = 1000  # Only log slow queries

# Autovacuum Settings (less aggressive for testing)
autovacuum = on
autovacuum_naptime = 1min
autovacuum_vacuum_scale_factor = 0.2
autovacuum_analyze_scale_factor = 0.1

# Checkpoint Settings
checkpoint_timeout = 15min
checkpoint_completion_target = 0.9

# Statement Logging
log_statement = none
log_duration = off

# Locale Settings
lc_messages = 'en_US.UTF-8'
lc_monetary = 'en_US.UTF-8'
lc_numeric = 'en_US.UTF-8'
lc_time = 'en_US.UTF-8'
default_text_search_config = 'pg_catalog.english'

# TimeZone
timezone = 'UTC'